/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

apply plugin: 'base'

task makeZipOfAllModules(type: Zip) {
    println("makeZipOfAllModules:___________>>>>>>\t")
    println("$rootDir")
   
    archiveName 'all-module.zip'
    from "$rootDir"
    // from "$rootDir/java-module/build/libs/"
    // from "$rootDir/node-module/build/distributions"
    // exclude '*gradle*'
    // exclude '**/build'
    include 'java-module/build/libs/java-module.jar'
    include 'node-module/build/distributions/node-module.zip'
    // include '*/*'
    // destinationDir(file("$rootDir/zip"))
}

tasks.assemble.dependsOn tasks.makeZipOfAllModules
tasks.makeZipOfAllModules.dependsOn ':node-module:build'
tasks.makeZipOfAllModules.dependsOn ':java-module:build'
